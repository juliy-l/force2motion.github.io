!function(){var i=window,t="push",o="length",r="prototype",c=function(i){if(i.get&&i.set){this.clear();var t=i.get("buildHitTask");i.set("buildHitTask",f(this,t)),i.set("_rlt",l(this,i.get("_rlt")))}},n={action:"pa",promoAction:"promoa",id:"ti",affiliation:"ta",revenue:"tr",tax:"tt",shipping:"ts",coupon:"tcc",step:"cos",label:"col",option:"col",options:"col",list:"pal",listSource:"pls"},e={id:"id",name:"nm",brand:"br",category:"ca",variant:"va",position:"ps",price:"pr",quantity:"qt",coupon:"cc","dimension(\\d+)":"cd","metric(\\d+)":"cm"},a={id:"id",name:"nm",creative:"cr",position:"ps"},s=function(i,t){this.name=i,this.source=t,this.e=[]},p="detail checkout checkout_option click add remove purchase refund".split(" ");c[r].clear=function(){this.b=void 0,this.f=[],this.a=[],this.g=[],this.d=void 0},c[r].h=function(i,t){var o=t||{};"promo_click"==i?o.promoAction="click":o.action=i,this.b=h(o)},c[r].j=function(i){(i=h(i))&&this.f[t](i)},c[r].i=function(i){var r=h(i);if(r){var c,n=i.list||"";i=i.listSource||"";for(var e=0;e<this.a[o];e++)if(this.a[e].name==n){c=this.a[e];break}c||(c=new s(n,i),this.a[t](c)),c.e[t](r)}},c[r].c=function(i){(i=h(i))&&this.g[t](i)};var u=function(i,t,c){if("[object Array]"==Object[r].toString.call(Object(i)))for(var n=0;n<i[o];n++)t.call(c,i[n])};c[r].data=function(i){if(i&&i.ecommerce){(i=i.ecommerce).promoView&&u(i.promoView.promotions,this.c,this),i.promoClick&&(this.h("promo_click",i.promoClick.actionField),u(i.promoClick.promotions,this.c,this));for(var t=0;t<p[o];t++){var r=i[p[t]];if(r){this.h(p[t],r.actionField),u(r.products,this.j,this);break}}u(i.impressions,this.i,this),i.currencyCode&&(this.d=i.currencyCode)}};var f=function(i,t){return function(r){var c,s,p;for(i.b&&d(n,i.b,r,"&"),c=0;c<i.f[o];c++)s="&pr"+(c+1),d(e,i.f[c],r,s);for(c=0;c<i.a[o];c++){s="&il"+(c+1),(p=i.a[c]).name&&r.set(s+"nm",p.name,!0),p.source&&r.set(s+"ls",p.source,!0);for(var u=0;u<p.e[o];u++)d(e,p.e[u],r,s+"pi"+(u+1))}for(c=0;c<i.g[o];c++)s="&promo"+(c+1),d(a,i.g[c],r,s);return i.d&&r.set("&cu",i.d,!0),i.clear(),t(r)}},l=function(i,t){return function(o){var r=i.b&&i.b.action;if("purchase"!=r&&"refund"!=r)return t(o)}},h=function(i){var t=0,o={};if(i&&"object"==typeof i)for(var r in i)i.hasOwnProperty(r)&&(o[r]=i[r],t++);return t?o:void 0},d=function(i,t,o,r){for(var c in t)if(t.hasOwnProperty(c))for(var n in i)if(i.hasOwnProperty(n)){var e=c.match("^"+n+"$");e&&o.set(r+i[n]+e.slice(1).join(""),t[c],!0)}};!function(){i.gaplugins=i.gaplugins||{},i.gaplugins.EC=c,c[r].setAction=c[r].h,c[r].addProduct=c[r].j,c[r].addImpression=c[r].i,c[r].addPromo=c[r].c,c[r].clear=c[r].clear,c[r].data=c[r].data;var o=i.GoogleAnalyticsObject||"ga";i[o]=i[o]||function(){(i[o].q=i[o].q||[])[t](arguments)},i[o]("provide","ec",c)}()}();